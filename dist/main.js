(()=>{"use strict";var e={654:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DisplayManager=void 0;class n{static createDisplay(e){const r=document.getElementById(e).getContext(n.WebGL2);if(r)return r.clearColor(1,0,0,1),r.clear(r.COLOR_BUFFER_BIT),r}}r.DisplayManager=n,n.WebGL2="webgl2"},604:(e,r,n)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Engine=void 0;const t=n(654),i=n(870),o=n(257),a=n(945);class g{constructor(e){this.vertecies=Float32Array.of(-.5,.5,0,-.5,-.5,0,.5,-.5,0,.5,.5,0),this.indeces=Int32Array.of(0,1,3,3,1,2);const r=t.DisplayManager.createDisplay(e);r?g.gl=r:alert("Error with WEBGL context"),this.loader=new a.Loader,this.renderer=new i.Renderer,this.model=this.loader.loadToVAO(this.vertecies,this.indeces),this.shader=new o.StaticShader}nextFrame(){this.renderer.prepare(),this.shader.start(),this.renderer.render(this.model),this.shader.stop()}}r.Engine=g},945:(e,r,n)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Loader=void 0;const t=n(332),i=n(604);r.Loader=class{constructor(){this.vaos=new Array,this.vbos=new Array}loadToVAO(e,r){const n=this.createVAO();return this.bindIndicesBuffer(r),this.storeDataInAttributeList(0,e),this.unbindVAO(),new t.RawModel(n,r.length)}cleanUp(){this.vaos.forEach((e=>{i.Engine.gl.deleteVertexArray(e)})),this.vbos.forEach((e=>{i.Engine.gl.deleteBuffer(e)}))}createVAO(){const e=i.Engine.gl.createVertexArray();return e&&this.vaos.push(e),i.Engine.gl.bindVertexArray(e),e}bindIndicesBuffer(e){const r=i.Engine.gl.createBuffer();r&&this.vbos.push(r),i.Engine.gl.bindBuffer(i.Engine.gl.ELEMENT_ARRAY_BUFFER,r),i.Engine.gl.bufferData(i.Engine.gl.ELEMENT_ARRAY_BUFFER,e,i.Engine.gl.STATIC_DRAW)}storeDataInAttributeList(e,r){const n=i.Engine.gl.createBuffer();n&&this.vbos.push(n),i.Engine.gl.bindBuffer(i.Engine.gl.ARRAY_BUFFER,n),i.Engine.gl.bufferData(i.Engine.gl.ARRAY_BUFFER,r,i.Engine.gl.STATIC_DRAW),i.Engine.gl.vertexAttribPointer(e,3,i.Engine.gl.FLOAT,!1,0,0),i.Engine.gl.bindBuffer(i.Engine.gl.ARRAY_BUFFER,null)}unbindVAO(){i.Engine.gl.bindVertexArray(null)}}},332:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.RawModel=void 0,r.RawModel=class{constructor(e,r){this._vaoId=e,this._vertexCount=r}get vaoId(){return this._vaoId}get vertexCount(){return this._vertexCount}}},870:(e,r,n)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Renderer=void 0;const t=n(604);r.Renderer=class{prepare(){t.Engine.gl.clear(t.Engine.gl.COLOR_BUFFER_BIT),t.Engine.gl.clearColor(1,1,1,1)}render(e){e.vaoId&&e.vertexCount&&(t.Engine.gl.bindVertexArray(e.vaoId),t.Engine.gl.enableVertexAttribArray(0),t.Engine.gl.drawElements(t.Engine.gl.TRIANGLES,e.vertexCount,t.Engine.gl.UNSIGNED_INT,0),t.Engine.gl.disableVertexAttribArray(0),t.Engine.gl.bindVertexArray(null))}}},199:(e,r,n)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ShaderProgram=void 0;const t=n(604);class i{constructor(e,r){this._vertexShaderId=i.loadShader(e,t.Engine.gl.VERTEX_SHADER),this._fragmentShaderId=i.loadShader(r,t.Engine.gl.FRAGMENT_SHADER);const n=t.Engine.gl.createProgram();if(!n)throw new Error("Shaderprogram could not be created");this._programId=n,t.Engine.gl.attachShader(this._programId,this._vertexShaderId),t.Engine.gl.attachShader(this._programId,this._fragmentShaderId),this.bindAttributes(),t.Engine.gl.linkProgram(this._programId),t.Engine.gl.validateProgram(this._programId),this.getAllUniformLocations()}start(){t.Engine.gl.useProgram(this._programId)}stop(){t.Engine.gl.useProgram(null)}cleanUp(){stop(),t.Engine.gl.detachShader(this._programId,this._vertexShaderId),t.Engine.gl.detachShader(this._programId,this._fragmentShaderId),t.Engine.gl.deleteShader(this._vertexShaderId),t.Engine.gl.deleteShader(this._fragmentShaderId),t.Engine.gl.deleteProgram(this._programId)}loadFloat(e,r){t.Engine.gl.uniform1f(e,r)}loadVector(e,r){t.Engine.gl.uniform3f(e,r.x,r.y,r.z)}loadBoolean(e,r){t.Engine.gl.uniform1f(e,r?1:0)}loadMatrix(e,r){t.Engine.gl.uniformMatrix4fv(e,!1,r.toFloat32Array())}getUniformLocation(e){return t.Engine.gl.getUniformLocation(this._programId,e)}bindAttribute(e,r){t.Engine.gl.bindAttribLocation(this._programId,e,r)}static loadShader(e,r){const n=t.Engine.gl.createShader(r);if(!n)throw Error();if(t.Engine.gl.shaderSource(n,e),t.Engine.gl.compileShader(n),!t.Engine.gl.getShaderParameter(n,t.Engine.gl.COMPILE_STATUS))throw console.log(t.Engine.gl.getShaderInfoLog(n)),Error("Compile Error");return n}}r.ShaderProgram=i},257:(e,r,n)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.StaticShader=void 0;const t=n(507),i=n(199),o=n(451);class a extends i.ShaderProgram{constructor(){super(o.vertexShader,t.fragmentShader)}bindAttributes(){super.bindAttribute(0,"position")}getAllUniformLocations(){throw new Error("Method not implemented.")}}r.StaticShader=a},507:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.fragmentShader=void 0,r.fragmentShader="#version 300 es\n\nprecision mediump float;\n\n\nin vec3 color;\n\nout vec4 out_Color;\n\nvoid main(void){\n    out_Color = vec4(color,1.0);\n}\n"},451:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.vertexShader=void 0,r.vertexShader="#version 300 es\n\nin vec3 position;\n\nout vec3 color;\n\nvoid main(void){\n    gl_Position = vec4(position, 1.0);\n    color = vec3(position.x+0.5,1.0, position.z+0.5);\n}\n\n"}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,n),o.exports}(()=>{let e=new(n(604).Engine)("graph");requestAnimationFrame((function r(){e.nextFrame(),requestAnimationFrame(r)}))})()})();